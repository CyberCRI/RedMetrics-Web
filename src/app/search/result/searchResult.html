<div ng-show="search.searchInProgress">
	<p>Searching...</p>
	<material-linear-progress mode="indeterminate"></material-linear-progress>
</div>

<div ng-show="!search.searchInProgress && search.results.length > 0">
	<h3>Results</h3>

	<canvas id="line" class="chart chart-line" chart-data="search.binValues"
		chart-labels="search.binLabels" chart-options="{ pointDot: false, showTooltips: true, tooltipTemplate:'<%= value %>' }">
	</canvas> 

	<p><a ng-href="{{ csvDownloadUrl }}">Download all pages as CSV</a></p>

	<p>Showing page {{ search.pageNumber }} out of {{ search.pageCount }}</p> 
	<div>
		<button ng-disabled="search.pageNumber <= 1" ng-click="goToPage(1)" href="">First page</button>
		<button ng-disabled="search.pageNumber <= 1" ng-click="goToPage(search.pageNumber - 1)" href="">Previous page</button>
		<button ng-disabled="search.pageNumber >= search.pageCount" ng-click="goToPage(search.pageNumber + 1)" href="">Next page</button>
		<button ng-disabled="search.pageNumber >= search.pageCount" ng-click="goToPage(search.pageCount)" href="">Last page</button>
	</div>

	<p>{{ search.results.length }} results:</p> 

	<table>
		<tr>
			<th>Server Time</th>
			<th>User Time</th>
			<th>Game Version</th>
			<th>Player</th>
			<th>Type</th>
			<th>Coordinates</th>
			<th>Section</th>
			<th>Custom Data</th>
		</tr>
		<tr ng-repeat="result in search.results">
			<td>{{ result.serverTime }}</td>
			<td>{{ result.userTime }}</td>
			<td>{{ result.gameVersion }}</td>
			<td>{{ result.player }}</td>
			<td>{{ result.type }}</td>
			<td>{{ result.coordinates }}</td>
			<td>{{ result.section }}</td>
			<td>{{ result.customData }}</td>
		</tr>
	</table>

	<p>Showing page {{ search.pageNumber }} out of {{ search.pageCount }}</p> 
	<div>
		<button ng-disabled="search.pageNumber <= 1" ng-click="goToPage(1)" href="">First page</button>
		<button ng-disabled="search.pageNumber <= 1" ng-click="goToPage(search.pageNumber - 1)" href="">Previous page</button>
		<button ng-disabled="search.pageNumber >= search.pageCount" ng-click="goToPage(search.pageNumber + 1)" href="">Next page</button>
		<button ng-disabled="search.pageNumber >= search.pageCount" ng-click="goToPage(search.pageCount)" href="">Last page</button>
	</div>
</div>
<div ng-show="!search.searchInProgress && search.results.length == 0">
	<h3>No results</h3>
	<p>Use the form on the left to change the search parameters and click the "Search" button.</p>
</div>
